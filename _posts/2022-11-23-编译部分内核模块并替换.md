---
title: "使用内核源码编译内核"
categories:
  - Linux
tags:
  - Linux
---

编译整个内核非常耗时，有时候我们只改动了部分内核模块，那么只需要单独编译那个模块并完成替换即可。

```bash
cd /usr/src/kernel-sources
make modules SUBDIRS=/path/to/your/modified -j $(nproc)
cp /path/to/your/modified/xxx.ko /lib/modules/$(uname -r)/kernel/updates/
depmod
modprobe xxxx
```
